[package]
name = "engine-cli"
version = "0.1.0"
edition = "2021"

[[bin]]
name = "engine-cli"
path = "src/main.rs"

[dependencies]
engine-core = { path = "../engine-core", features = ["hashfull_filter"] }
anyhow = { workspace = true }
log = { workspace = true }
clap = { workspace = true }
env_logger = { workspace = true }
crossbeam-channel = "0.5"
thiserror = "1.0"
once_cell = "1.19"
smallvec = "1.11"
parking_lot = { version = "0.12", features = ["deadlock_detection"] }

[target.'cfg(unix)'.dependencies]
signal-hook = "0.3"
backtrace = "0.3"

[dev-dependencies]
criterion = { version = "0.5", features = ["html_reports"] }
serial_test = "3.2"
regex = { workspace = true }
chrono = "0.4"
libc = "0.2"

[features]
default = []
buffered-io = []

[[bench]]
name = "buffering_benchmark"
harness = false
